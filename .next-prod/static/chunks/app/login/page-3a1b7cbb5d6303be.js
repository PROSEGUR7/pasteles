(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{20063:(e,s,a)=>{"use strict";var t=a(47260);a.o(t,"usePathname")&&a.d(s,{usePathname:function(){return t.usePathname}}),a.o(t,"useRouter")&&a.d(s,{useRouter:function(){return t.useRouter}})},68620:(e,s,a)=>{Promise.resolve().then(a.bind(a,70017))},70017:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>i});var t=a(95155),r=a(12115),l=a(20063);function i(){let[e,s]=(0,r.useState)(""),[a,i]=(0,r.useState)(""),[n,c]=(0,r.useState)(""),[d,o]=(0,r.useState)(!1),u=(0,l.useRouter)(),x=async s=>{s.preventDefault(),c(""),o(!0);try{let s=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({usuario:e,password:a})}),t=await s.json();if(!s.ok)return void c(t.error||"Error al iniciar sesi\xf3n");localStorage.setItem("token",t.token),localStorage.setItem("user",JSON.stringify(t.user)),u.push("/dashboard")}catch(e){c("Error de conexi\xf3n con el servidor")}finally{o(!1)}};return(0,t.jsxs)("div",{className:"min-h-screen relative overflow-hidden",children:[(0,t.jsxs)("div",{className:"absolute inset-0",children:[(0,t.jsx)("div",{className:"absolute -top-32 -right-24 h-72 w-72 rounded-full bg-primary-300/20 blur-3xl"}),(0,t.jsx)("div",{className:"absolute bottom-0 left-0 h-80 w-80 rounded-full bg-primary-500/15 blur-[100px]"}),(0,t.jsx)("div",{className:"absolute top-1/3 left-1/2 h-40 w-[520px] -translate-x-1/2 rounded-full bg-white/50 blur-3xl"})]}),(0,t.jsx)("div",{className:"relative z-10 mx-auto flex min-h-screen w-full max-w-2xl items-center px-6 py-12",children:(0,t.jsx)("div",{className:"w-full",children:(0,t.jsxs)("div",{className:"glass-card p-8 sm:p-10",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-surface-400",children:"Juan Pastel"}),(0,t.jsx)("h2",{className:"text-2xl font-semibold text-surface-50",children:"Ingresar"})]}),(0,t.jsx)("p",{className:"text-sm text-surface-400 mt-3",children:"Acceso seguro para administradores"})]}),(0,t.jsxs)("form",{onSubmit:x,className:"space-y-5",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-semibold uppercase tracking-[0.18em] text-surface-400 mb-2",children:"Usuario"}),(0,t.jsx)("input",{type:"text",value:e,onChange:e=>s(e.target.value),className:"input-field",placeholder:"Ingrese su usuario",required:!0,autoFocus:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-semibold uppercase tracking-[0.18em] text-surface-400 mb-2",children:"Contrasena"}),(0,t.jsx)("input",{type:"password",value:a,onChange:e=>i(e.target.value),className:"input-field",placeholder:"Ingrese su contrasena",required:!0})]}),n&&(0,t.jsxs)("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-red-500/10 border border-red-500/20",children:[(0,t.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#b91c1c",strokeWidth:"2",children:[(0,t.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,t.jsx)("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),(0,t.jsx)("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),(0,t.jsx)("span",{className:"text-red-500 text-sm",children:n})]}),(0,t.jsx)("button",{type:"submit",disabled:d,className:"btn-primary w-full flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:d?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Verificando..."]}):"Iniciar sesion"})]}),(0,t.jsx)("p",{className:"text-xs text-surface-500 mt-6",children:"Al continuar aceptas las politicas de seguridad internas."})]})})})]})}}},e=>{e.O(0,[441,255,358],()=>e(e.s=68620)),_N_E=e.O()}]);